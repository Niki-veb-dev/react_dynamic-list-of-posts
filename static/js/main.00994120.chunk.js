(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(8),s=n.n(c),a=n(3),r=n(2),i=(n(14),n(15),n(4)),o=n(1),u=n.n(o),l=n(5);function d(e){var t="https://mate.academy/students-api/posts";return 0!==e&&(t+="?userId=".concat(e)),fetch(t).then((function(e){return e.json()}))}function j(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://mate.academy/students-api/posts/".concat(t),e.next=3,fetch(n);case 3:return c=e.sent,e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate.academy/students-api/comments",e.next=3,fetch("https://mate.academy/students-api/comments").then((function(e){return e.json()}));case 3:return n=e.sent,c=n.filter((function(e){return e.postId===t})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://mate.academy/students-api/comments/".concat(t),e.abrupt("return",fetch(n,{method:"DELETE"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate.academy/students-api/comments",e.abrupt("return",fetch("https://mate.academy/students-api/comments",{method:"POST",body:JSON.stringify(Object(l.a)({},t)),headers:{"Content-Type":"application/json"}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(17);var v=n(0),_=function(e){var t=e.selectedUserId,n=e.selectedPostId,c=e.setSelectePostId,s=Object(r.useState)([]),o=Object(a.a)(s,2),l=o[0],j=o[1],p=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j,e.next=3,d(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){p()}),[]),Object(r.useEffect)((function(){p()}),[t]),Object(v.jsxs)("div",{className:"PostsList",children:[Object(v.jsx)("h2",{children:"Posts:"}),Object(v.jsx)("ul",{className:"PostsList__list",children:l.map((function(e){return Object(v.jsxs)("li",{className:"PostsList__item",children:[Object(v.jsxs)("div",{children:[Object(v.jsxs)("b",{children:["User #".concat(e.userId),":"," "]}),"sunt aut facere repellat provident occaecati excepturi optio"]}),Object(v.jsx)("button",{type:"button",className:"PostsList__button button",onClick:function(){return c(e.id)},children:n===e.id?"Close":"Open"})]},e.id)}))})]})},y=n(9),N=n.n(y),w=n(6),P=(n(19),function(e){var t=e.handleAdd,n=e.selectedPostId,c=Object(r.useState)({name:"",email:"",body:"",postId:0}),s=Object(a.a)(c,2),i=s[0],o=s[1],u=function(e){var t=e.target,n=t.name,c=t.value;o(Object(l.a)(Object(l.a)({},i),{},Object(w.a)({},n,c)))};return Object(v.jsxs)("form",{className:"NewCommentForm",children:[Object(v.jsx)("div",{className:"form-field",children:Object(v.jsx)("input",{type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input",onChange:u})}),Object(v.jsx)("div",{className:"form-field",children:Object(v.jsx)("input",{type:"text",name:"email",placeholder:"Your email",className:"NewCommentForm__input",onChange:u})}),Object(v.jsx)("div",{className:"form-field",children:Object(v.jsx)("textarea",{name:"body",placeholder:"Type comment here",className:"NewCommentForm__input",onChange:u})}),Object(v.jsx)("button",{type:"button",className:"NewCommentForm__submit-button button",onClick:function(){var e=Object(l.a)(Object(l.a)({},i),{},{postId:n});t(e)},children:"Add a comment"})]})}),I=(n(20),function(e){var t=e.selectedPostId,n=Object(r.useState)({}),c=Object(a.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)([]),d=Object(a.a)(l,2),p=d[0],m=d[1],f=Object(r.useState)(!1),x=Object(a.a)(f,2),_=x[0],y=x[1],w=function(){var e=Object(i.a)(u.a.mark((function e(){var n,c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t){e.next=9;break}return e.next=3,Promise.all([j(t),b(t)]);case 3:n=e.sent,c=Object(a.a)(n,2),s=c[0],r=c[1],o(s),m(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){w()}),[]),Object(r.useEffect)((function(){w()}),[t]);var I=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"PostDetails",children:0!==t?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"Post details:"}),Object(v.jsx)("section",{className:"PostDetails__post",children:Object(v.jsx)("p",{children:s.title})}),Object(v.jsxs)("section",{className:"PostDetails__comments",children:[Object(v.jsx)("button",{type:"button",className:"button",onClick:function(){y(!_)},children:"Hide ".concat(p.length," comments")}),Object(v.jsx)("ul",{className:"PostDetails__list",children:p.map((function(e){return Object(v.jsxs)("li",{className:N()("PostDetails__list-item",{hide:_}),children:[Object(v.jsx)("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return I(e.id)},children:"X"}),Object(v.jsx)("p",{children:e.body})]},e.id)}))})]}),Object(v.jsx)("section",{children:Object(v.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(v.jsx)(P,{handleAdd:C,selectedPostId:t})})})]}):"No post selected"})}),C=function(e){var t=e.selectedUserId,n=e.setSelectedUserId;return Object(v.jsx)("header",{className:"App__header",children:Object(v.jsxs)("label",{children:["Select a user",Object(v.jsxs)("select",{className:"App__user-selector",value:t,onChange:n,children:[Object(v.jsx)("option",{value:"0",children:"All users"}),Object(v.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(v.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(v.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(v.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(v.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(v.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(v.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(v.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(v.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(v.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})})},k=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(0),i=Object(a.a)(s,2),o=i[0],u=i[1];return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(C,{selectedUserId:n,setSelectedUserId:function(e){var t=+e.target.value;c(t)}}),Object(v.jsxs)("main",{className:"App__main",children:[Object(v.jsx)("div",{className:"App__sidebar",children:Object(v.jsx)(_,{selectedUserId:n,setSelectePostId:function(e){u(o===e?0:e)},selectedPostId:o})}),Object(v.jsx)("div",{className:"App__content",children:Object(v.jsx)(I,{selectedPostId:o})})]})]})};s.a.render(Object(v.jsx)(k,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.00994120.chunk.js.map